plugins {
    id 'com.modrinth.minotaur' version '2.+'
    id 'net.neoforged.gradle.userdev' version '7.0.100'
}

dependencies {
    implementation "net.neoforged:neoforge:${neo_version}"
}

runs {
    create("client") {
        systemProperty("forge.logging.console.level", 'debug')
        workingDirectory(file("run/client"))
        modSources sourceSets.main
    }
}

subsystems {
    parchment {
        minecraftVersion = "1.20.3"
        mappingsVersion = "${parchmentVersion}"
    }
}

//tasks.register("publishToCurseforgeNeoforgeVersion", TaskPublishCurseForge) {
//    dependsOn(tasks.jar)
//
//    apiToken = "${curseforgeToken}"
//
//    var mainFile = upload(curseforgeProjectId, tasks.jar.getArchiveFile())
//    mainFile.changelog = "Change cfg system"
//    mainFile.changelogType = CFG_Constants.CHANGELOG_TEXT
//    mainFile.releaseType = CFG_Constants.RELEASE_TYPE_RELEASE
//    mainFile.addGameVersion("${mc_version}")
//    mainFile.addModLoader("NeoForge")
//}