plugins {
    id 'net.neoforged.gradle.userdev' version '7.0.74'
}

group = "${mod_group}"
version = "${mod_version}-${version_type}"

base {
    archivesName = "${mod_id}-${mc_version}-neoforge"
}

java.toolchain.languageVersion = JavaLanguageVersion.of(17)

configurations {
    libraries
    implementation.extendsFrom libraries
}

dependencies {
    libraries "net.neoforged:neoforge:${neo_version}"

    libraries project(":CommonAPI")
}

subsystems {
    parchment {
        minecraftVersion = "${mc_version}"

        mappingsVersion = "${parchmentVersion}"
    }
}

runs {
    configureEach {
        systemProperty 'forge.logging.markers', 'REGISTRIES'
        systemProperty 'forge.logging.console.level', 'debug'

        modSource project.sourceSets.main
    }
    client {
        dependencies {
            runtime project(":CommonAPI")
        }
    }
}